{% extends 'core/base.html' %}

{% block title %}Sign up | {% endblock %}

{% block content %}
<div class="p-10 lg:p-20 text-center">
    <h1 class="text-3xl lg:text-6xl text-white">Sign Up for AnitaLiveChat</h1>
</div>

<form method="POST" action="." class="lg:w-1/4 px-4 mx-auto">
    {% csrf_token %}
    <div class="mb-5">
        <label class="block text-white mb-2">Email Address</label>
        <input type="email" name="email" placeholder="Email Address" class="w-full mt-2 px-4 py-2 rounded-xl bg-gray-800 text-white border-none focus:outline-none">
    </div>

    <div class="mb-5">
        <label class="block text-white mb-2">Username</label>
        <input type="text" name="username" placeholder="Username" class="w-full mt-2 px-4 py-2 rounded-xl bg-gray-800 text-white border-none focus:outline-none">
    </div>
    
    <div class="mb-5">
        <label class="block text-white mb-2">Password</label>
        <div class="relative">
            <input type="password" name="password1" placeholder="Password" class="w-full mt-2 px-4 py-2 rounded-xl bg-gray-800 text-white border-none focus:outline-none" id="id_password1">
            <button type="button" class="absolute top-1/2 right-2 transform -translate-y-1/2 text-white text-sm focus:outline-none" id="toggle-password1">
                Show
            </button>
        </div>
    </div>
    
    <div class="mb-5">
        <label class="block text-white mb-2">Confirm Password</label>
        <div class="relative">
            <input type="password" name="password2" placeholder="Confirm Password" class="w-full mt-2 px-4 py-2 rounded-xl bg-gray-800 text-white border-none focus:outline-none" id="id_password2">
            <button type="button" class="absolute top-1/2 right-2 transform -translate-y-1/2 text-white text-sm focus:outline-none" id="toggle-password2">
                Show
            </button>
        </div>
    </div>
    
    {% for field in form %}
        {% for error in field.errors %}
            <div class="mb-5 p-4 rounded-xl bg-red-300 text-white">
                <p>{{ error|escape }}</p>
            </div>
        {% endfor %}
    {% endfor %}
    
    <button class="px-5 py-3 rounded-xl text-white bg-teal-800 hover:bg-teal-700 focus:outline-none">Submit</button>
    
</form>

<script>
    const togglePassword1 = document.querySelector('#toggle-password1');
    const password1 = document.querySelector('#id_password1');
    togglePassword1.addEventListener('click', function (e) {
        const type = password1.getAttribute('type') === 'password' ? 'text' : 'password';
        password1.setAttribute('type', type);
        togglePassword1.textContent = type === 'password' ? 'Show' : 'Hide';
    });

    const togglePassword2 = document.querySelector('#toggle-password2');
    const password2 = document.querySelector('#id_password2');
    togglePassword2.addEventListener('click', function (e) {
        const type = password2.getAttribute('type') === 'password' ? 'text' : 'password';
        password2.setAttribute('type', type);
        togglePassword2.textContent = type === 'password' ? 'Show' : 'Hide';
    });
</script>
{% endblock %}
